module.exports.config={name:"bans",version:"1.0.0",hasPermssion:2,credits:"ManhG",description:"CÃ¡ÂºÂ¥m ngÃ†Â°Ã¡Â»Âi dÃƒÂ¹ng daÃŒâ‚¬nh riÃƒÂªng cho QTV BOX chat",commandCategory:"tiÃ¡Â»â€¡n ÃƒÂ­ch",usages:"[ID or text] hoÃ„Æ’ÃŒÂ£c tag@",cooldowns:5},module.exports.languages={vi:{reason:"LÃƒÂ½ do",at:"vÃƒ o lÃƒÂºc",allCommand:"toÃƒ n bÃ¡Â»â„¢ lÃ¡Â»â€¡nh",commandList:"nhÃ¡Â»Â¯ng lÃ¡Â»â€¡nh",banSuccess:"[ Ban User ] Ã„ÂÃƒÂ£ xÃ¡Â»Â­ lÃƒÂ½ thÃƒ nh cÃƒÂ´ng yÃƒÂªu cÃ¡ÂºÂ§u cÃ¡ÂºÂ¥m ngÃ†Â°Ã¡Â»Âi dÃƒÂ¹ng: %1",banCommandSuccess:"[ banCommand User ] Ã„ÂÃƒÂ£ xÃ¡Â»Â­ lÃƒÂ½ thÃƒ nh cÃƒÂ´ng yÃƒÂªu cÃ¡ÂºÂ§u cÃ¡ÂºÂ¥m lÃ¡Â»â€¡nh Ã„â€˜Ã¡Â»â€˜i vÃ¡Â»â€ºi ngÃ†Â°Ã¡Â»Âi dÃƒÂ¹ng: %1",errorReponse:"%1 KhÃƒÂ´ng thÃ¡Â»Æ’ hoÃƒ n tÃ¡ÂºÂ¥t cÃƒÂ´ng viÃ¡Â»â€¡c bÃ¡ÂºÂ¡n yÃƒÂªu cÃ¡ÂºÂ§u",IDNotFound:"%1 ID ngÃ†Â°Ã¡Â»Âi dÃƒÂ¹ng bÃ¡ÂºÂ¡n nhÃ¡ÂºÂ­p khÃƒÂ´ng tÃ¡Â»â€œn tÃ¡ÂºÂ¡i trong cÃ†Â¡ sÃ¡Â»Å¸ dÃ¡Â»Â¯ liÃ¡Â»â€¡u",existBan:"[ Ban User ] NgÃ†Â°Ã¡Â»Âi dÃƒÂ¹ng %1 Ã„â€˜ÃƒÂ£ bÃ¡Â»â€¹ ban tÃ¡Â»Â« trÃ†Â°Ã¡Â»â€ºc %2 %3",missingCommandInput:"%1 PhÃ¡ÂºÂ§n command cÃ¡ÂºÂ§n cÃ¡ÂºÂ¥m khÃƒÂ´ng Ã„â€˜Ã†Â°Ã¡Â»Â£c Ã„â€˜Ã¡Â»Æ’ trÃ¡Â»â€˜ng!",returnBan:"[ Ban User ] HiÃ¡Â»â€¡n tÃ¡ÂºÂ¡i bÃ¡ÂºÂ¡n Ã„â€˜ang yÃƒÂªu cÃ¡ÂºÂ§u cÃ¡ÂºÂ¥m ngÃ†Â°Ã¡Â»Âi dÃƒÂ¹ng:\n- ID vÃƒ  tÃƒÂªn ngÃ†Â°Ã¡Â»Âi dÃƒÂ¹ng cÃ¡ÂºÂ§n cÃ¡ÂºÂ¥m: %1%2\n\nÃ¢ÂÂ® Reaction tin nhÃ¡ÂºÂ¯n nÃƒ y Ã„â€˜Ã¡Â»Æ’ xÃƒÂ¡c thÃ¡Â»Â±c Ã¢ÂÂ¯",returnBanCommand:"[ banCommand User ] HiÃ¡Â»â€¡n tÃ¡ÂºÂ¡i bÃ¡ÂºÂ¡n Ã„â€˜ang yÃƒÂªu cÃ¡ÂºÂ§u cÃ¡ÂºÂ¥m sÃ¡Â»Â­ dÃ¡Â»Â¥ng lÃ¡Â»â€¡nh Ã„â€˜Ã¡Â»â€˜i vÃ¡Â»â€ºi ngÃ†Â°Ã¡Â»Âi dÃƒÂ¹ng:\n - ID vÃƒ  tÃƒÂªn ngÃ†Â°Ã¡Â»Âi dÃƒÂ¹ng cÃ¡ÂºÂ§n cÃ¡ÂºÂ¥m: %1\n- CÃƒÂ¡c lÃ¡Â»â€¡nh cÃ¡ÂºÂ§n cÃ¡ÂºÂ¥m: %2\n\nÃ¢ÂÂ® Reaction tin nhÃ¡ÂºÂ¯n nÃƒ y Ã„â€˜Ã¡Â»Æ’ xÃƒÂ¡c thÃ¡Â»Â±c Ã¢ÂÂ¯",returnResult:"Ã„ÂÃƒÂ¢y lÃƒ  kÃ¡ÂºÂ¿t quÃ¡ÂºÂ£ phÃƒÂ¹ hÃ¡Â»Â£p: \n",returnNull:"KhÃƒÂ´ng tÃƒÂ¬m thÃ¡ÂºÂ¥y kÃ¡ÂºÂ¿t quÃ¡ÂºÂ£ dÃ¡Â»Â±a vÃƒ o tÃƒÂ¬m kiÃ¡ÂºÂ¿m cÃ¡Â»Â§a bÃ¡ÂºÂ¡n!",returnList:"[ User List ]\nHiÃ¡Â»â€¡n tÃ¡ÂºÂ¡i Ã„â€˜ang cÃƒÂ³ %1 ngÃ†Â°Ã¡Â»Âi dÃƒÂ¹ng bÃ¡Â»â€¹ ban, dÃ†Â°Ã¡Â»â€ºi Ã„â€˜ÃƒÂ¢y lÃƒ  %2 ngÃ†Â°Ã¡Â»Âi dÃƒÂ¹ng\n\n%3",returnInfo:"[ Info User ] Ã„ÂÃƒÂ¢y lÃƒ  mÃ¡Â»â„¢t sÃƒÂ´ thÃƒÂ´ng tin vÃ¡Â»Â ngÃ†Â°Ã¡Â»Âi dÃƒÂ¹ng bÃ¡ÂºÂ¡n cÃ¡ÂºÂ§n tÃƒÂ¬m:\n- ID vÃƒ  tÃƒÂªn cÃ¡Â»Â§a ngÃ†Â°Ã¡Â»Âi dÃƒÂ¹ng: %1n- CÃƒÂ³ bÃ¡Â»â€¹ ban?: %2 %3 %4\n- BÃ¡Â»â€¹ ban lÃ¡Â»â€¡nh?: %5"},en:{reason:"Reason",at:"At",allCommand:"All commands",commandList:"Commands",banSuccess:"ðŸŒºðŸ¦‹à¦†à¦ªà¦¨à¦¾à¦•à§‡ à¦¬à§à¦¯à¦¾à¦¨ à¦•à¦°à¦¾ à¦•à¦®à¦ªà§à¦²à¦¿à¦Ÿ à¦à¦–à¦¨ à¦¬à¦¿à§œà¦¿ à¦–à¦¾à¦¨ à¦¬à¦¸à§‡ à¦¬à¦¸à§‡ðŸ¦‹ðŸŒº: %1",banCommandSuccess:"[ banCommand User ] Banned command with user: %1",errorReponse:"%1 Can't do what you request",IDNotFound:"%1 ID you import doesn't exist in database",existBan:"[ Ban User ] User %1 has been banned before %2 %3",missingCommandInput:"%1 You have to import the command you want to ban!",returnBan:"ðŸŒºðŸ¦‹[à¦¬à§à¦¯à¦¾à¦¨ à¦¬à§à¦¯à¦¬à¦¹à¦¾à¦°à¦•à¦¾à¦°] à¦†à¦ªà¦¨à¦¿ à¦¬à§à¦¯à¦¬à¦¹à¦¾à¦°à¦•à¦¾à¦°à§€à¦•à§‡ à¦¨à¦¿à¦·à¦¿à¦¦à§à¦§ à¦•à¦°à¦¾à¦° à¦…à¦¨à§à¦°à§‹à¦§ à¦•à¦°à¦›à§‡à¦¨ðŸ¦‹ðŸŒº:\n-ðŸŒºðŸ¦‹à¦‡à¦‰à¦œà¦¾à¦° à¦†à¦‡à¦¡à¦¿ à¦à¦¬à¦‚ à¦¨à¦¾à¦® à¦¯à¦¾à¦•à§‡ à¦†à¦ªà¦¨à¦¿ à¦¨à¦¿à¦·à¦¿à¦¦à§à¦§ à¦•à¦°à¦¤à§‡ à¦šà¦¾à¦¨ðŸ¦‹ðŸŒº: %1%2\n\nÂðŸŒºðŸ¦‹à¦à¦‡ à¦¬à¦¾à¦°à§à¦¤à¦¾ à¦¸à¦®à§à¦ªà§‚à¦°à§à¦£ à¦•à¦°à¦¾à¦° à¦œà¦¨à§à¦¯ à¦ªà§à¦°à¦¤à¦¿à¦•à§à¦°à¦¿à¦¯à¦¼à¦¾ðŸ¦‹ðŸŒºÂÂ¯",returnBanCommand:"[ banCommand User ] You are requesting to ban command with user:\n - User ID and name who you want to ban: %1\n- Commands: %2\n\nÃ¢ÂÂ® Reaction this message to complete Ã¢ÂÂ¯",returnResult:"This is your result: \n",returnNull:"There is no result with your input!",returnList:"[ User List ]There are %1 banned user, here are %2 user\n\n%3",returnInfo:"[ Info User ] Here is some information about the user who you want to find:\n- User ID and name: %1n- Banned?: %2 %3 %4\n- Command banned?: %5"}},module.exports.handleReaction=async({event:n,api:e,Users:a,handleReaction:t,getText:s})=>{if(parseInt(n.userID)!==parseInt(t.author))return;const r=require("moment-timezone"),{threadID:o}=n,{messageID:i,type:d,targetID:m,reason:u,nameTarget:g}=t,c=r.tz("Asia/Ho_Chi_minh").format("HH:MM:ss L");if(global.client.handleReaction.splice(global.client.handleReaction.findIndex((n=>n.messageID==i)),1),"ban"===d)try{let n=(await a.getData(m)).data||{};return n.banned=!0,n.reason=u||null,n.dateAdded=c,await a.setData(m,{data:n}),global.data.userBanned.set(m,{reason:n.reason,dateAdded:n.dateAdded}),e.sendMessage(s("banSuccess",`${m} - ${g}`),o,(()=>e.unsendMessage(i)))}catch{return e.sendMessage(s("errorReponse","[ Ban User ]"),o)}},module.exports.run=async({event:n,api:e,args:a,Users:t,getText:s})=>{const{threadID:r,messageID:o}=n;var i=String(a[0]),d=a.slice(2,a.length).join(" ")||null;if(isNaN(i)){const e=Object.keys(n.mentions);a=a.join(" "),i=String(e[0]),d=a.slice(a.indexOf(n.mentions[e[0]])+(n.mentions[e[0]]||"").length+1,a.length)||null}if(!global.data.allUserID.includes(i))return e.sendMessage(s("IDNotFound","[ Ban User ]"),r,o);if(global.data.userBanned.has(i)){const{reason:n,dateAdded:a}=global.data.userBanned.get(i)||{};return e.sendMessage(s("existBan",i,n?`${s("reason")}: "${n}"`:"",a?`${s("at")} ${a}`:""),r,o)}const m=global.data.userName.get(i)||await t.getNameUser(i);return e.sendMessage(s("returnBan",`${i} - ${m}`,d?`\n- ${s("reason")}: ${d}`:""),r,((e,a)=>{global.client.handleReaction.push({type:"ban",targetID:i,reason:d,nameTarget:m,name:this.config.name,messageID:a.messageID,author:n.senderID})}),o)};